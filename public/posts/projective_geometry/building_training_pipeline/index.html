<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>üèãÔ∏è Continuous Training: Building a model training pipeline | I√±aki‚Äôs Log</title>
<meta name="keywords" content="machine learning, model training, model evaluation, continuous training">
<meta name="description" content="Table of Contents 1. Continuous Training 2. Training Pipeline 2.1. Training 2.2. Evaluation 3. Deployment 4. References 1. Continuous Training The process of generating a machine learning model usually consists of training on a dataset, evaluating its performance and then deploying it to a production environment. In certain scenarios, the trained model may perform consistently over a long period of time. However, that is not always the case. There are multiple reasons you may want to retrain it periodically, such as:">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/posts/projective_geometry/building_training_pipeline/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css" integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z&#43;V9&#43;cO1A=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/projective_geometry/building_training_pipeline/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous">

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js" integrity="sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY" crossorigin="anonymous"></script>

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>


<script>
document.addEventListener("DOMContentLoaded", function() {
    renderMathInElement(document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "$", right: "$", display: false}
        ]
    });
});
</script>

</head>

<body class="" id="top">

<head>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-X47ZD00R5L"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-X47ZD00R5L', { 'anonymize_ip': false });
}
</script>

</head>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="I√±aki‚Äôs Log (Alt + H)">I√±aki‚Äôs Log</a>
            <div class="logo-switches">
                <ul class="lang-switch"><li>|</li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="üìö Posts">
                    <span>üìö Posts</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="üè∑Ô∏è Tags">
                    <span>üè∑Ô∏è Tags</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="üîç Search (Alt &#43; /)" accesskey=/>
                    <span>üîç Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/about/" title="üëã About">
                    <span>üëã About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      üèãÔ∏è Continuous Training: Building a model training pipeline
    </h1>
    <div class="post-meta"><span title='2024-02-02 11:16:19 +0100 CET'>February 2, 2024</span>

</div>
  </header> 
  <div class="post-content"><span style="background-color: lightgrey; border: 1px solid black; padding: 2px 10px; display: inline-flex; align-items: center;">
  <details>
    <summary><strong>Table of Contents</strong></summary>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#1-continuous-training">1. Continuous Training</a></li>
    <li><a href="#2-training-pipeline">2. Training Pipeline</a>
      <ul>
        <li><a href="#21-training">2.1. Training</a></li>
        <li><a href="#22-evaluation">2.2. Evaluation</a></li>
      </ul>
    </li>
    <li><a href="#3-deployment">3. Deployment</a></li>
    <li><a href="#4-references">4. References</a></li>
  </ul>
</nav>
  </details>
</span>
<h1 id="1-continuous-training">1. Continuous Training<a hidden class="anchor" aria-hidden="true" href="#1-continuous-training">#</a></h1>
<p>The process of generating a machine learning model usually consists of training on a dataset, evaluating its performance and then
deploying it to a production environment. In certain scenarios, the trained model may perform consistently over a long period of time. However, that is not always the case. There are multiple reasons you may want to retrain it periodically, such as:</p>
<ul>
<li><strong>Stay competitive</strong>: as more data becomes available, the model can be retrained to take advantage of it, gaining a competitive edge thanks to the improved performance.</li>
<li><strong>Data drift</strong>: in training a model, it is assumed that the training data is representative of future unseen data. Nevertheless, this may not always hold. For instance, we trained a model to estimate the camera parameters for broadcast soccer games. But when the pandemic led to camera angle changes in order to avoid showing empty stadiums, the data distribution changed.</li>
<li><strong>Concept drift</strong>: the relationship between the input features and the target variable can evolve. We trained our camera model to predict the camera pinhole parametrisation. The model we trained our model to predict the parametrisation given by the camera pinhole paradigm. However, if TV producers switch to fish-eye lenses for a different viewer experience, the input/output mapping is no longer be valid.</li>
</ul>
<p>The process of retraining a model on a regular basis is known as <strong>Continuous Training</strong>. It is a key component of a machine learning system that aims to keep the model&rsquo;s performance at an optimal level over time. The following diagram depicts the different components that make up a Continuous Training System:</p>
<figure class="figure" style="text-align: center;">
  <img src="/building_training_pipeline/continuous_training.svg" alt="Continuous Training Diagram" width="100%" style="display: block; margin: auto;">
  <figcaption class="caption" style="font-weight: normal; max-width: 80%; margin: auto;">Diagram for the Continuous Training System we will be exploring in this article. It depicts the different components it is comprised of, and the tasks they carry out.</figcaption>
</figure>
<p>We have the following agents/components:</p>
<ol>
<li><strong>User</strong>: customer that sends requests to the endpoint in order to get predictions back.</li>
<li><strong>Endpoint</strong>: the model&rsquo;s API, which receives forwards the requests to the model and sends back the predictions. Furthermore, it stores both the pairs of queries and predictions to the data lake.</li>
<li><strong>Labelling</strong>: process used to manually annotate the data and review the model&rsquo;s predictions. This allows us to have high quality data on a continuous basis that we can use to capture the data drift and retrain the model.</li>
<li><strong>Data Lake</strong>: storage system that stores the high quality data used for training.</li>
<li><strong>Orchestrator</strong>: component that watches the data lake and triggers the retraining process when certain conditions are met.</li>
<li><strong>Training</strong>: process that takes the data in the data lake and generates a new model as an output artifact.</li>
</ol>
<p>In this article we will focus on the <strong>Training</strong> and <strong>Endpoint</strong> components. All the code is available at the following public repository:</p>
<span style="background-color: lightblue; border: 1px solid black; padding: 2px 10px; display: inline-flex; align-items: center;">
    <img src="/github.svg" alt="GitHub Icon" style="width: 24px; height: 24px; margin-right: 10px;">
    <a href="https://github.com/InakiRaba91/animal_classifier" style="text-decoration: none; color: blue; line-height: 1;"><strong>Auxiliary repository</strong></a>
</span>
<br><br>
<div style="border: 1px solid black; padding: 10px; background-color: #DAF7A6; border-radius: 5px;">
  <strong><u>Note</u></strong>: in this series we will build from scratch a Continuous Training System. However, to keep things simple, we will use a toy example and run the system <strong>locally</strong>. In a real-world scenario, the system would be deployed in a cloud environment and the data would be stored in a distributed storage system.
</div>
<h1 id="2-training-pipeline">2. Training Pipeline<a hidden class="anchor" aria-hidden="true" href="#2-training-pipeline">#</a></h1>
<p>In this section we will focus on the <strong>Training</strong> component. It carries out a sequence of steps that takes the data in the data lake and generates a new model as an output artifact. The pipeline is composed of the following steps:</p>
<ol>
<li><strong>Training</strong>: the process of learning the best weights that minimize the error between the predictions and the ground truth in the training set, while being able to generalize to unseen data.</li>
<li><strong>Evaluation</strong>: the process of comparing the performance of the newly trained model against a baseline model in order to find out if there is an improvement.</li>
<li><strong>Validation</strong>: a final step to ensure that the model is able to generalize to unseen data.</li>
<li><strong>Registry</strong>: if all previous steps are successful, the model is stored, ready to be deployed.</li>
</ol>
<figure class="figure" style="text-align: center;">
  <img src="/building_training_pipeline/training_pipeline.svg" alt="Continuous Training Diagram" width="100%" style="display: block; margin: auto;">
  <figcaption class="caption" style="font-weight: normal; max-width: 80%; margin: auto;">Diagram for the Continuous Training System we will be exploring in this article. It depicts the different components it is comprised of, and the tasks they carry out.</figcaption>
</figure>
<p>Lets us now focus on the two key components that carry out the core functionality of the pipeline:</p>
<h2 id="21-training">2.1. Training<a hidden class="anchor" aria-hidden="true" href="#21-training">#</a></h2>
<p>We will try to keep things as simple as possible. In that spirit, our aim is to build a Dog &amp; Cat classifier. The starting dataset can be found in the <code>data</code> folder consisting of:</p>
<ul>
<li><u>Images</u>: 10  comprised of 10 photos of cats and dogs, located in <code>data</code> subfolder.</li>
<li><u>Labels</u>: 10 corresponding labels stored as <code>.json</code>, located in <code>annotations</code> subfolder.</li>
</ul>
<figure class="figure" style="text-align: center;">
  <img src="/building_training_pipeline/cat_and_dog.png" alt="Cat and Dog" width="70%" style="display: block; margin: auto;">
  <figcaption class="caption" style="font-weight: normal; max-width: 80%; margin: auto;">Example of a cat and a dog images in our dataset.</figcaption>
</figure>
<p>We will be using the <code>torch</code> library. The main components we defined are:</p>
<ul>
<li><a href="https://github.com/InakiRaba91/animal_classifier/blob/main/animal_classifier/datasets/dataset.py"><code>Dataset</code></a>: reads the images and labels from the disk and returns them as a tuple. It resizes the images to a fixed size, converts them to grayscale and normalizes them.</li>
<li><a href="https://github.com/InakiRaba91/animal_classifier/blob/main/animal_classifier/models/model.py"><code>Model</code></a>: defines the model architecture, which consists of a simple fully connected layer followed by a sigmoid activation function.</li>
<li><a href="[gttps://github.com/InakiRaba91/animal_classifier/blob/main/animal_classifier/datasets/dataset.py](https://github.com/InakiRaba91/animal_classifier/blob/main/animal_classifier/losses/loss.py)"><code>Loss</code></a>: we will use the binary cross-entropy loss.</li>
</ul>
<p>To see the training in practice, you can download a sample dataset <a href="https://drive.google.com/file/d/1R_mxTnZfXkqBF-QgXuW3XNA2rjkbnmqn/view?usp=sharing">here</a>. Extract the contents of the file in the <code>data</code> directory. To do so, run:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>tar -zxf cats_and_dogs.tar.gz -C data/
</span></span></code></pre></div><p>Then make sure you have <code>poetry</code> installed and set up the environment running:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>poetry install
</span></span></code></pre></div><p>First, we need prepare the dataset by creating the 3 splits for train/val/test:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>poetry run python -m animal_classifier dataset-split data/train.csv data/val.csv data/test.csv --train-frac 0.6 --val-frac 0.2 --test-frac 0.2
</span></span></code></pre></div><p>We will use the train set to fine tune the model weights, and the val set for early stopping. Run the following command to get the trained model, which will be stored in the <code>models</code> folder:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>poetry run python -m animal_classifier training data/train.csv data/val.csv --annotations-dir data/cats_and_dogs/annotations --model-dir models/cats_and_dogs
</span></span></code></pre></div><p>The model is now ready to be used for inference. To test it on an image, simply run</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>poetry run python -m animal_classifier inference 1.png base_model.pth --frames-dir data/cats_and_dogs/frames --model-dir models/cats_and_dogs --threshold 0.5
</span></span></code></pre></div><h2 id="22-evaluation">2.2. Evaluation<a hidden class="anchor" aria-hidden="true" href="#22-evaluation">#</a></h2>
<p>Before deploying the model, we need to evaluate its performance. For that purpose, we have an evaluation module that receives a model and a dataset. It computes a summary metric, the average binary cross-entropy loss. We will carry out two steps:</p>
<ol>
<li><strong>Comparison against a baseline model</strong>: to ensure the new model outperforms the current one, we compare the metric on the same dataset. As an example, we can compare the two models provided by the training step in previous section: <code>latest</code> (all epochs) and <code>best</code> (early stopping).</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>poetry run python -m animal_classifier evaluation base_model_latest.pth base_model.pth data/test.csv --annotations-dir data/cats_and_dogs/annotations --model-dir models/cats_and_dogs
</span></span></code></pre></div><ol start="2">
<li><strong>Validation</strong>: to ensure the model is able to generalize to unseen data.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>poetry run python -m animal_classifier validation base_model.pth data/test.csv --annotations-dir data/cats_and_dogs/annotations --model-dir models/cats_and_dogs --max-loss-validation <span style="color:#ae81ff">5</span>
</span></span></code></pre></div><h1 id="3-deployment">3. Deployment<a hidden class="anchor" aria-hidden="true" href="#3-deployment">#</a></h1>
<p>So after training our model, making sure it outperforms the baseline and gaining confidence about its generalization to unseen data, what&rsquo;s next? It&rsquo;s time to deploy it!</p>
<p>Bear in mind that our model is simply an artifact, a file that contains the weights of the model. In order to make predictions, we need to wrap it in an API. We will use the <a href="https://pytorch.org/serve/"><code>torchserve</code></a> library. The process goes as follows:</p>
<ol>
<li><strong>Model Archiver</strong>: we need to create a <code>.mar</code> file that contains the model and the code to run it:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>poetry run torch-model-archiver --model-name animal --version 1.0 --model-file animal_classifier/models/model.py --serialized-file ./models/cats_and_dogs/base_model.pth --handler animal_classifier/api/torchserve/handler.py --export-path ./model_store/
</span></span></code></pre></div><ol start="2">
<li><strong>Settings</strong>: we define the settings for the server in a <code>config.properties</code> file, like the one below:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">inference_address=http:</span><span style="color:#75715e">//127.0.0.1:8080
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">inference_address=http:</span><span style="color:#75715e">//0.0.0.0:8080
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">management_address=http:</span><span style="color:#75715e">//0.0.0.0:8081
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">metrics_address=http:</span><span style="color:#75715e">//0.0.0.0:8082
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">model_store=./model_store/</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">load_models=animal.mar</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">min_workers=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">max_workers=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">default_workers_per_model=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">model_snapshot=</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;name&#34;</span>:<span style="color:#e6db74">&#34;startup.cfg&#34;</span>, 
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;modelCount&#34;</span>:<span style="color:#ae81ff">1</span>, 
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;models&#34;</span>:{
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;animal&#34;</span>:{
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;1.0&#34;</span>:{
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;defaultVersion&#34;</span>:<span style="color:#66d9ef">true</span>, 
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;marName&#34;</span>:<span style="color:#e6db74">&#34;animal.mar&#34;</span>, 
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;minWorkers&#34;</span>:<span style="color:#ae81ff">1</span>, 
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;maxWorkers&#34;</span>:<span style="color:#ae81ff">1</span>, 
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;batchSize&#34;</span>:<span style="color:#ae81ff">2</span>, 
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;maxBatchDelay&#34;</span>:<span style="color:#ae81ff">100</span>, 
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;responseTimeout&#34;</span>:<span style="color:#ae81ff">30000</span>,
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div style="border: 1px solid black; padding: 10px; background-color: #DAF7A6; border-radius: 5px;">
  <strong><u>Note</u></strong>: we have reformated the `config.properties` for clarity. However, the model_snapshot must be a single line without spaces, as in the original <a href="https://github.com/InakiRaba91/animal_classifier/blob/main/config.properties"> file</a>.
</div> <br>
<p>Torchserve provides a batching mechanism out of the blue. It tries to group the incoming requests until one of the following conditions is met:</p>
<ul>
<li>The batch is filled with <code>batchSize</code> requests.</li>
<li>The time since the first request in the batch exceeds <code>maxBatchDelay</code> milliseconds.</li>
</ul>
<ol start="3">
<li><strong>Containerization</strong>: we can use Docker to containerize the server. You can check the details in the <code>docker/Dockerfile.torchserve</code> file. To build it, simply run</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker build -t animal_classifier_fastapi:latest -f docker/Dockerfile.torchserve .
</span></span></code></pre></div><ol start="4">
<li><strong>Deployment</strong>: we can deploy the container by running:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker run --rm -p 8080:8080 -p 8081:8081 -p 8082:8082 -v ./model_store:/source/model_store animal_classifier_torchserve:latest
</span></span></code></pre></div><p>And that&rsquo;s it we&rsquo;re done! You can check the model is running by executing the following command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl http://localhost:8081/models/animal
</span></span></code></pre></div><p>We can now send requests to the endpoint and get predictions back:</p>
<ul>
<li><u>Single request</u>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl http://localhost:8080/predictions/animal -T ./data/cats_and_dogs/frames/1.png
</span></span></code></pre></div></li>
<li><u>Concurrent requests</u> for batch processing:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -X POST http://localhost:8080/predictions/animal -T ./data/cats_and_dogs/frames/1.png &amp; curl -X POST http://localhost:8080/predictions/animal -T ./data/cats_and_dogs/frames/2.png
</span></span></code></pre></div></li>
</ul>
<h1 id="4-references">4. References<a hidden class="anchor" aria-hidden="true" href="#4-references">#</a></h1>
<ol>
<li><a href="https://cloud.google.com/architecture/mlops-continuous-delivery-and-automation-pipelines-in-machine-learning">MLOps: Continuous delivery and automation pipelines in machine learning</a>, by Google Cloud.</li>
</ol>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/machine-learning/">Machine Learning</a></li>
      <li><a href="http://localhost:1313/tags/model-training/">Model Training</a></li>
      <li><a href="http://localhost:1313/tags/model-evaluation/">Model Evaluation</a></li>
      <li><a href="http://localhost:1313/tags/continuous-training/">Continuous Training</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="http://localhost:1313/">I√±aki‚Äôs Log</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script src="/js/figure-numbering.js"></script>
</body>

</html>
